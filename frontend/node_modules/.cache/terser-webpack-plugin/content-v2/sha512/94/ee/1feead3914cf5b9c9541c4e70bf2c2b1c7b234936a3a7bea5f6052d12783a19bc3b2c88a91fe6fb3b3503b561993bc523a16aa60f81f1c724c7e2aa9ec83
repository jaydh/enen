{"map":"{\"version\":3,\"sources\":[\"/home/jay/enen/frontend/src/hosts.ts\",\"/home/jay/enen/frontend/src/actions/article/requestParse.ts\",\"/home/jay/enen/frontend/src/components/ArticleViewer/component.tsx\",\"/home/jay/enen/frontend/src/actions/article/updateBookmark.ts\",\"/home/jay/enen/frontend/src/actions/updateLastArticle.ts\",\"/home/jay/enen/frontend/src/actions/article/updateProgress.ts\",\"/home/jay/enen/frontend/src/components/ArticleViewer/index.ts\"],\"names\":[\"__webpack_require__\",\"d\",\"__webpack_exports__\",\"serverIP\",\"requestServerParse\",\"url\",\"_ref\",\"Object\",\"_home_jay_enen_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__\",\"_home_jay_enen_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default\",\"a\",\"mark\",\"_callee\",\"dispatch\",\"wrap\",\"_context\",\"prev\",\"next\",\"axios\",\"method\",\"concat\",\"data\",\"then\",\"res\",\"catch\",\"error\",\"console\",\"log\",\"sent\",\"stop\",\"_x\",\"apply\",\"this\",\"arguments\",\"Highlight\",\"Loadable\",\"delay\",\"loader\",\"e\",\"t\",\"bind\",\"loading\",\"Loader\",\"EmbeddedArticle\",\"Promise\",\"all\",\"ArticleView\",\"props\",\"_this\",\"classCallCheck\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"getArticleData\",\"asyncToGenerator\",\"regenerator_default\",\"id\",\"article\",\"HTMLData\",\"t0\",\"HTML\",\"fetching\",\"metadata\",\"params\",\"abrupt\",\"transform\",\"node\",\"index\",\"_this$props\",\"classes\",\"fontSize\",\"name\",\"startsWith\",\"react\",\"index_es\",\"variant\",\"gutterBottom\",\"align\",\"convertNodeToElement\",\"attribs\",\"class\",\"container\",\"item\",\"justify\",\"className\",\"image\",\"paragraph\",\"inline\",\"style\",\"pre\",\"quote\",\"children\",\"map\",\"hyperlinkName\",\"href\",\"getBookmark\",\"elements\",\"state\",\"articleNodeList\",\"match\",\"i\",\"max\",\"length\",\"element\",\"elementInView\",\"newBookmark\",\"textContent\",\"bookmark\",\"updateBookmark\",\"getArticlesInView\",\"requestedParses\",\"articleLinks\",\"filter\",\"forEach\",\"_ref2\",\"_callee2\",\"_context2\",\"find\",\"setState\",\"toConsumableArray\",\"_x2\",\"rect\",\"getBoundingClientRect\",\"top\",\"left\",\"bottom\",\"window\",\"innerHeight\",\"document\",\"documentElement\",\"clientHeight\",\"right\",\"innerWidth\",\"clientWidth\",\"scrollToBookmark\",\"target\",\"Array\",\"from\",\"el\",\"scrollIntoView\",\"behavior\",\"block\",\"getProgress\",\"h\",\"getElementById\",\"b\",\"body\",\"st\",\"sh\",\"newProgress\",\"progress\",\"updateProgress\",\"intervalId\",\"articleId\",\"updateLastArticle\",\"title\",\"querySelectorAll\",\"setInterval\",\"_this2\",\"clearInterval\",\"_this$props2\",\"_this$state\",\"html\",\"he\",\"ogTitle\",\"siteName\",\"ogSiteName\",\"description\",\"excerpt\",\"subtitle\",\"alignItems\",\"xs\",\"sm\",\"md\",\"lg\",\"root\",\"elevation\",\"pastDelay\",\"isLoading\",\"lineHeight\",\"ReactHTMLParser\",\"decodeEntities\",\"React\",\"withStyles\",\"padding\",\"borderLeft\",\"margin\",\"paddingLeft\",\"marginBottom\",\"updateBookmarkFulfilled\",\"type\",\"getState\",\"token\",\"user\",\"headers\",\"Authorization\",\"reason\",\"updateProgressCompleted\",\"connect\",\"ownProps\",\"ui\",\"uid\",\"articles\",\"articleData\",\"bindActionCreators\",\"component\"],\"mappings\":\"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\",\"sourcesContent\":[\"export const serverIP = '';\\n\",\"import { serverIP } from \\\"../../hosts\\\";\\nimport axios from \\\"axios\\\";\\n\\nexport const requestServerParse = (url: string) => {\\n  return async dispatch => {\\n    const id = await axios({\\n      method: \\\"POST\\\",\\n      url: `${serverIP}/article`,\\n      data: { url }\\n    })\\n      .then(res => res.data)\\n      .catch(function(error) {\\n        console.log(error);\\n      });\\n  };\\n};\\n\",\"import * as React from 'react';\\nimport ReactHTMLParser, { convertNodeToElement } from 'react-html-parser';\\nimport Loadable from 'react-loadable';\\nimport Loader from '../../components/Loader';\\nimport axios from 'axios';\\nimport { serverIP } from '../../hosts';\\nimport { produce } from 'immer';\\nimport {\\n  Divider,\\n  Grid,\\n  Paper,\\n  Typography,\\n  withStyles\\n} from '@material-ui/core';\\nimport * as he from 'he';\\n\\nconst Highlight = Loadable({\\n  delay: 200,\\n  loader: () => import('react-highlight'),\\n  loading: Loader\\n});\\n\\nconst EmbeddedArticle = Loadable({\\n  delay: 200,\\n  loader: () => import('./EmbeddedArticle'),\\n  loading: Loader\\n});\\n\\nconst styles = {\\n  image: { padding: '1em' },\\n  pre: { borderLeft: '4px outset gray', margin: '2em', paddingLeft: '1em' },\\n  quote: { borderLeft: '4px outset purple', margin: '2em', paddingLeft: '1em' },\\n  root: { padding: '2em 1em' },\\n  title: { marginBottom: '4em' }\\n};\\n\\ninterface IProps {\\n  article?: any;\\n  fontSize: number;\\n  classes: any;\\n  match: any;\\n  updateBookmark: (id: string, bookmark: string) => void;\\n  updateProgress: (id: string, progress: number) => void;\\n  updateLastArticle: (t: string) => void;\\n  requestServerParse: (url: string) => void;\\n}\\n\\ninterface IState {\\n  HTML?: string;\\n  url?: string;\\n  metadata?: any;\\n  progress?: number;\\n  fetching: boolean;\\n  articleLinks: HTMLAnchorElement[];\\n  articleNodeList: Element[];\\n  intervalId: any;\\n  requestedParses: any;\\n}\\n\\nclass ArticleView extends React.Component<IProps, IState> {\\n  constructor(props: IProps) {\\n    super(props);\\n    this.state = {\\n      articleLinks: [],\\n      articleNodeList: [],\\n      fetching: true,\\n      intervalId: null,\\n      requestedParses: []\\n    };\\n  }\\n\\n  public async componentDidMount() {\\n    const articleId = this.props.match.params.id;\\n    const article = await this.getArticleData(articleId);\\n    const { HTML, url, metadata } = article;\\n    this.props.updateLastArticle(article);\\n    this.setState({ HTML, url, metadata, fetching: false });\\n    document.title += ` - ${metadata.title}`;\\n\\n    // Find all nodes in page with textContent\\n    await this.setState({\\n      articleLinks: Array.from(document.querySelectorAll('div.page a')),\\n      articleNodeList: Array.from(\\n        document.querySelectorAll('div.page p')\\n      ).filter(el => el.textContent)\\n    });\\n    if (this.props.article) {\\n      const intervalId = setInterval(() => {\\n        this.getBookmark();\\n        this.getProgress();\\n        this.getArticlesInView();\\n      }, 5000);\\n      this.scrollToBookmark();\\n      this.setState({ intervalId });\\n    }\\n  }\\n\\n  public componentWillUnmount() {\\n    clearInterval(this.state.intervalId);\\n    document.title = 'enen';\\n  }\\n\\n  public render() {\\n    const { classes, fontSize } = this.props;\\n    const { HTML: html, fetching, metadata, url } = this.state;\\n    // decode HTML Entities\\n    const HTML = html && he.decode(html);\\n    const title =\\n      metadata && (metadata.title || metadata.ogTitle)\\n        ? metadata.title || metadata.ogTitle\\n        : url;\\n\\n    const siteName = metadata && (metadata.siteName || metadata.ogSiteName);\\n    const description = metadata && metadata.excerpt;\\n    const subtitle = `${siteName ? siteName : ''} ${\\n      description ? '-' + description : ''\\n    }`;\\n    return fetching || HTML ? (\\n      <Grid container={true} alignItems=\\\"center\\\" justify=\\\"center\\\">\\n        <Grid\\n          item={true}\\n          xs={12}\\n          sm={12}\\n          md={8}\\n          lg={8}\\n          className={classes.root}\\n        >\\n          <Paper elevation={10} className={classes.root}>\\n            <Typography style={{ fontSize: fontSize + 10 }} variant=\\\"title\\\">\\n              {title}\\n            </Typography>\\n            <Typography style={{ fontSize: fontSize + 2 }} variant=\\\"subtitle1\\\">\\n              {subtitle}\\n            </Typography>\\n            <Divider className={classes.title} />\\n            <div>\\n              {fetching ? (\\n                <Loader pastDelay={false} isLoading={fetching} />\\n              ) : (\\n                <div style={{ fontSize, lineHeight: '1.5' }}>\\n                  {ReactHTMLParser(HTML, {\\n                    decodeEntities: false,\\n                    transform: this.transform\\n                  })}\\n                </div>\\n              )}\\n            </div>\\n          </Paper>\\n        </Grid>\\n      </Grid>\\n    ) : (\\n      <Grid container={true} alignItems=\\\"center\\\" justify=\\\"center\\\">\\n        <Typography variant=\\\"h3\\\">Unavailable</Typography>\\n      </Grid>\\n    );\\n  }\\n\\n  private getArticleData = async (id: string) => {\\n    const { article } = this.props;\\n    return article && article.HTMLData\\n      ? {\\n          HTML: article.HTMLData,\\n          fetching: false,\\n          url: article.url,\\n          metadata: article.metadata\\n        }\\n      : await axios({\\n          method: 'GET',\\n          url: `${serverIP}/article/id`,\\n          params: { id }\\n        })\\n          .then(res => {\\n            return res.data;\\n          })\\n          .catch(function(error) {\\n            console.log(error);\\n          });\\n  };\\n\\n  private transform = (node: any, index: number) => {\\n    const { classes, fontSize } = this.props;\\n    if (node.name && node.name.startsWith('h')) {\\n      return (\\n        <Typography variant={node.name} gutterBottom={true} align=\\\"center\\\">\\n          {convertNodeToElement(node, index, this.transform)}\\n        </Typography>\\n      );\\n    }\\n    if (node.name === 'img') {\\n      node.attribs.class = 'img-fluid';\\n      return (\\n        <Grid container={true} item justify=\\\"center\\\" className={classes.image}>\\n          {convertNodeToElement(node, index, this.transform)}\\n        </Grid>\\n      );\\n    }\\n    if (node.name === 'p') {\\n      return (\\n        <Typography paragraph={true} inline={true} style={{ fontSize }}>\\n          {convertNodeToElement(node, index, this.transform)}\\n        </Typography>\\n      );\\n    }\\n    if (node.name === 'pre') {\\n      return (\\n        <div className={classes.pre}>\\n          <Highlight>{convertNodeToElement(node)}</Highlight>\\n        </div>\\n      );\\n    }\\n\\n    if (node.name === 'blockquote') {\\n      return (\\n        <div className={classes.quote}>\\n          {node.children.map((t: any) => (\\n            <Typography style={{ fontSize }}>\\n              {t.data ? t.data : null}\\n            </Typography>\\n          ))}\\n        </div>\\n      );\\n    }\\n    if (\\n      node.name === 'a' &&\\n      node.children &&\\n      node.children[0] &&\\n      node.children[0].data\\n    ) {\\n      return (\\n        <EmbeddedArticle\\n          hyperlinkName={node.children[0].data}\\n          url={node.attribs.href}\\n        />\\n      );\\n    }\\n    return undefined;\\n  };\\n\\n  private getBookmark = () => {\\n    const elements = this.state.articleNodeList;\\n    const id = this.props.match.params.id;\\n    if (elements) {\\n      for (let i = 0, max = elements.length; i < max; i++) {\\n        const element = elements[i];\\n        if (this.elementInView(element)) {\\n          // Use previous element unless first element\\n          const newBookmark = elements[i > 0 ? i - 1 : i].textContent;\\n          if (newBookmark && newBookmark !== this.props.article.bookmark) {\\n            this.props.updateBookmark(id, newBookmark);\\n            return;\\n          }\\n        }\\n      }\\n    }\\n  };\\n\\n  private getArticlesInView = () => {\\n    const { requestedParses } = this.state;\\n    const targets = this.state.articleLinks.filter((e: HTMLAnchorElement) =>\\n      this.elementInView(e)\\n    );\\n    targets.forEach(async (e: HTMLAnchorElement) => {\\n      if (!requestedParses.find((url: string) => url === e.href)) {\\n        this.setState({requestedParses:[...this.state.requestedParses,e.href]});\\n        this.props.requestServerParse(e.href);\\n      }\\n    });\\n  };\\n\\n  private elementInView = (e: Element) => {\\n    const rect = e.getBoundingClientRect();\\n    return (\\n      rect.top >= 0 &&\\n      rect.left >= 0 &&\\n      rect.bottom <=\\n        (window.innerHeight || document.documentElement!.clientHeight) &&\\n      rect.right <= (window.innerWidth || document.documentElement!.clientWidth)\\n    );\\n  };\\n\\n  private scrollToBookmark = () => {\\n    const elements = this.state.articleNodeList;\\n    const { bookmark } = this.props.article;\\n    if (elements) {\\n      const target = Array.from(elements).find(\\n        (el: any) => el.textContent === bookmark\\n      ) as HTMLElement;\\n      if (target) {\\n        target.scrollIntoView({\\n          behavior: 'smooth',\\n          block: 'start',\\n          inline: 'nearest'\\n        });\\n      }\\n    }\\n  };\\n\\n  private getProgress = () => {\\n    const h = document.getElementById('main');\\n    if (h) {\\n      const id = this.props.match.params.id;\\n      const b = document.body;\\n      const st = 'scrollTop';\\n      const sh = 'scrollHeight';\\n      const newProgress =\\n        ((h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight)) * 100;\\n      if (newProgress !== this.state.progress) {\\n        this.props.updateProgress(id, newProgress);\\n        this.setState({ progress: newProgress });\\n      }\\n    }\\n  };\\n}\\n\\nexport default withStyles(styles)(ArticleView);\\n\",\"import axios from \\\"axios\\\";\\nimport { serverIP } from \\\"../../hosts\\\";\\n\\nfunction updateBookmarkRequested() {\\n  return {\\n    type: \\\"UPDATE_BOOKMARK_REQUESTED\\\"\\n  };\\n}\\n\\nfunction updateBookmarkRejected(reason: string) {\\n  return {\\n    reason,\\n    type: \\\"UPDATE_BOOKMARK_REJECTED\\\"\\n  };\\n}\\n\\nfunction updateBookmarkFulfilled(id: string, bookmark: string) {\\n  return {\\n    bookmark,\\n    id,\\n    type: \\\"UPDATE_BOOKMARK_FULFILLED\\\"\\n  };\\n}\\n\\nexport default function updateBookmark(id: string, bookmark: string) {\\n  return async (dispatch: any, getState: any) => {\\n    const token = getState().user.token;\\n    dispatch(updateBookmarkRequested());\\n    return axios({\\n      method: \\\"POST\\\",\\n      url: `${serverIP}/user/bookmark`,\\n      headers: { Authorization: `Bearer ${token}` },\\n      data: { id, bookmark }\\n    })\\n      .then(res => dispatch(updateBookmarkFulfilled(id, bookmark)))\\n      .catch(error => dispatch(updateBookmarkRejected(error)));\\n  };\\n}\\n\",\"export default (article: any) => {\\n  return { type: 'UPDATE_LAST_ARTICLE', article };\\n};\\n\",\"import axios from \\\"axios\\\";\\nimport { serverIP } from \\\"../../hosts\\\";\\n\\nfunction updateProgressRequested() {\\n  return {\\n    type: \\\"UPDATE_PROGRESS_REQUESTED\\\"\\n  };\\n}\\n\\nfunction updateProgressRejected(reason: string) {\\n  return {\\n    reason,\\n    type: \\\"UPDATE_PROGRESS_REJECTED\\\"\\n  };\\n}\\n\\nfunction updateProgressCompleted(id: string, progress: number) {\\n  return {\\n    id,\\n    progress,\\n    type: \\\"UPDATE_PROGRESS_FULFILLED\\\"\\n  };\\n}\\n\\nexport default function updateProgress(id: string, progress: number) {\\n  return async (dispatch: any, getState: any) => {\\n    const token = getState().user.token;\\n    dispatch(updateProgressRequested());\\n    return axios({\\n      method: \\\"POST\\\",\\n      url: `${serverIP}/user/progress`,\\n      headers: { Authorization: `Bearer ${token}` },\\n      data: { id, progress }\\n    })\\n      .then(res => {\\n        dispatch(updateProgressCompleted(id, progress));\\n      })\\n      .catch((e: string) => dispatch(updateProgressRejected(e)));\\n  };\\n}\\n\",\"import component from \\\"./component\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport { bindActionCreators } from \\\"redux\\\";\\nimport updateBookmark from \\\"../../actions/article/updateBookmark\\\";\\nimport updateLastArticle from \\\"../../actions/updateLastArticle\\\";\\nimport updateProgress from \\\"../../actions/article/updateProgress\\\";\\nimport { requestServerParse } from \\\"../../actions/article/requestParse\\\";\\n\\nconst mapStateToProps = (state: any, ownProps: any) => {\\n  return {\\n    fontSize: state.ui.fontSize,\\n    uid: state.user.uid,\\n    article: state.articles.articleData[ownProps.match.params.id]\\n  };\\n};\\n\\nconst mapDispatchToProps = (dispatch: any) =>\\n  bindActionCreators(\\n    {\\n      updateLastArticle,\\n      updateBookmark,\\n      updateProgress,\\n      requestServerParse\\n    },\\n    dispatch\\n  );\\n\\nexport default connect(\\n  mapStateToProps,\\n  mapDispatchToProps\\n)(component);\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{345:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return n});var n=\"\"},461:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return u});var n=r(343),a=r.n(n),i=r(344),o=r(345),c=r(346),s=r.n(c),u=function(e){return function(){var t=Object(i.a)(a.a.mark(function t(r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s()({method:\"POST\",url:\"\".concat(o.a,\"/article\"),data:{url:e}}).then(function(e){return e.data}).catch(function(e){console.log(e)});case 2:t.sent;case 3:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},5802:function(e,t){},6033:function(e,t,r){\"use strict\";r.r(t);var n=r(366),a=r(343),i=r.n(a),o=r(344),c=r(35),s=r(36),u=r(38),l=r(37),m=r(39),d=r(1),f=r(450),p=r.n(f),h=r(33),v=r.n(h),g=r(34),E=r(346),b=r.n(E),k=r(345),y=r(53),S=r(21),T=r(5831),O=v()({delay:200,loader:function(){return r.e(2).then(r.t.bind(null,5840,7))},loading:g.a}),w=v()({delay:200,loader:function(){return Promise.all([r.e(1),r.e(12)]).then(r.bind(null,6030))},loading:g.a}),L=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(u.a)(this,Object(l.a)(t).call(this,e))).getArticleData=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.props.article)||!n.HTMLData){e.next=5;break}e.t0={HTML:n.HTMLData,fetching:!1,url:n.url,metadata:n.metadata},e.next=8;break;case 5:return e.next=7,b()({method:\"GET\",url:\"\".concat(k.a,\"/article/id\"),params:{id:t}}).then(function(e){return e.data}).catch(function(e){console.log(e)});case 7:e.t0=e.sent;case 8:return e.abrupt(\"return\",e.t0);case 9:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.transform=function(e,t){var n=r.props,a=n.classes,i=n.fontSize;return e.name&&e.name.startsWith(\"h\")?d.createElement(y.B,{variant:e.name,gutterBottom:!0,align:\"center\"},Object(f.convertNodeToElement)(e,t,r.transform)):\"img\"===e.name?(e.attribs.class=\"img-fluid\",d.createElement(y.m,{container:!0,item:!0,justify:\"center\",className:a.image},Object(f.convertNodeToElement)(e,t,r.transform))):\"p\"===e.name?d.createElement(y.B,{paragraph:!0,inline:!0,style:{fontSize:i}},Object(f.convertNodeToElement)(e,t,r.transform)):\"pre\"===e.name?d.createElement(\"div\",{className:a.pre},d.createElement(O,null,Object(f.convertNodeToElement)(e))):\"blockquote\"===e.name?d.createElement(\"div\",{className:a.quote},e.children.map(function(e){return d.createElement(y.B,{style:{fontSize:i}},e.data?e.data:null)})):\"a\"===e.name&&e.children&&e.children[0]&&e.children[0].data?d.createElement(w,{hyperlinkName:e.children[0].data,url:e.attribs.href}):void 0},r.getBookmark=function(){var e=r.state.articleNodeList,t=r.props.match.params.id;if(e)for(var n=0,a=e.length;n<a;n++){var i=e[n];if(r.elementInView(i)){var o=e[n>0?n-1:n].textContent;if(o&&o!==r.props.article.bookmark)return void r.props.updateBookmark(t,o)}}},r.getArticlesInView=function(){var e=r.state.requestedParses;r.state.articleLinks.filter(function(e){return r.elementInView(e)}).forEach(function(){var t=Object(o.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.find(function(e){return e===a.href})||(r.setState({requestedParses:[].concat(Object(n.a)(r.state.requestedParses),[a.href])}),r.props.requestServerParse(a.href));case 1:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},r.elementInView=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},r.scrollToBookmark=function(){var e=r.state.articleNodeList,t=r.props.article.bookmark;if(e){var n=Array.from(e).find(function(e){return e.textContent===t});n&&n.scrollIntoView({behavior:\"smooth\",block:\"start\",inline:\"nearest\"})}},r.getProgress=function(){var e=document.getElementById(\"main\");if(e){var t=r.props.match.params.id,n=document.body,a=\"scrollTop\",i=\"scrollHeight\",o=(e[a]||n[a])/((e[i]||n[i])-e.clientHeight)*100;o!==r.state.progress&&(r.props.updateProgress(t,o),r.setState({progress:o}))}},r.state={articleLinks:[],articleNodeList:[],fetching:!0,intervalId:null,requestedParses:[]},r}return Object(m.a)(t,e),Object(s.a)(t,[{key:\"componentDidMount\",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t,r,n,a,o,c,s=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.getArticleData(t);case 3:return r=e.sent,n=r.HTML,a=r.url,o=r.metadata,this.props.updateLastArticle(r),this.setState({HTML:n,url:a,metadata:o,fetching:!1}),document.title+=\" - \".concat(o.title),e.next=10,this.setState({articleLinks:Array.from(document.querySelectorAll(\"div.page a\")),articleNodeList:Array.from(document.querySelectorAll(\"div.page p\")).filter(function(e){return e.textContent})});case 10:this.props.article&&(c=setInterval(function(){s.getBookmark(),s.getProgress(),s.getArticlesInView()},5e3),this.scrollToBookmark(),this.setState({intervalId:c}));case 11:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"componentWillUnmount\",value:function(){clearInterval(this.state.intervalId),document.title=\"enen\"}},{key:\"render\",value:function(){var e=this.props,t=e.classes,r=e.fontSize,n=this.state,a=n.HTML,i=n.fetching,o=n.metadata,c=n.url,s=a&&T.decode(a),u=o&&(o.title||o.ogTitle)?o.title||o.ogTitle:c,l=o&&(o.siteName||o.ogSiteName),m=o&&o.excerpt,f=\"\".concat(l||\"\",\" \").concat(m?\"-\"+m:\"\");return i||s?d.createElement(y.m,{container:!0,alignItems:\"center\",justify:\"center\"},d.createElement(y.m,{item:!0,xs:12,sm:12,md:8,lg:8,className:t.root},d.createElement(y.y,{elevation:10,className:t.root},d.createElement(y.B,{style:{fontSize:r+10},variant:\"title\"},u),d.createElement(y.B,{style:{fontSize:r+2},variant:\"subtitle1\"},f),d.createElement(y.h,{className:t.title}),d.createElement(\"div\",null,i?d.createElement(g.a,{pastDelay:!1,isLoading:i}):d.createElement(\"div\",{style:{fontSize:r,lineHeight:\"1.5\"}},p()(s,{decodeEntities:!1,transform:this.transform})))))):d.createElement(y.m,{container:!0,alignItems:\"center\",justify:\"center\"},d.createElement(y.B,{variant:\"h3\"},\"Unavailable\"))}}]),t}(d.Component),A=Object(S.withStyles)({image:{padding:\"1em\"},pre:{borderLeft:\"4px outset gray\",margin:\"2em\",paddingLeft:\"1em\"},quote:{borderLeft:\"4px outset purple\",margin:\"2em\",paddingLeft:\"1em\"},root:{padding:\"2em 1em\"},title:{marginBottom:\"4em\"}})(L),P=r(74),j=r(16);function B(e,t){return{bookmark:t,id:e,type:\"UPDATE_BOOKMARK_FULFILLED\"}}function D(e,t){return function(){var r=Object(o.a)(i.a.mark(function r(n,a){var o;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=a().user.token,n({type:\"UPDATE_BOOKMARK_REQUESTED\"}),r.abrupt(\"return\",b()({method:\"POST\",url:\"\".concat(k.a,\"/user/bookmark\"),headers:{Authorization:\"Bearer \".concat(o)},data:{id:e,bookmark:t}}).then(function(r){return n(B(e,t))}).catch(function(e){return n({reason:e,type:\"UPDATE_BOOKMARK_REJECTED\"})}));case 3:case\"end\":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()}var x=function(e){return{type:\"UPDATE_LAST_ARTICLE\",article:e}};function I(e,t){return{id:e,progress:t,type:\"UPDATE_PROGRESS_FULFILLED\"}}function N(e,t){return function(){var r=Object(o.a)(i.a.mark(function r(n,a){var o;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=a().user.token,n({type:\"UPDATE_PROGRESS_REQUESTED\"}),r.abrupt(\"return\",b()({method:\"POST\",url:\"\".concat(k.a,\"/user/progress\"),headers:{Authorization:\"Bearer \".concat(o)},data:{id:e,progress:t}}).then(function(r){n(I(e,t))}).catch(function(e){return n({reason:e,type:\"UPDATE_PROGRESS_REJECTED\"})}));case 3:case\"end\":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()}var R=r(461);t.default=Object(P.b)(function(e,t){return{fontSize:e.ui.fontSize,uid:e.user.uid,article:e.articles.articleData[t.match.params.id]}},function(e){return Object(j.bindActionCreators)({updateLastArticle:x,updateBookmark:D,updateProgress:N,requestServerParse:R.a},e)})(A)}}]);","extractedComments":[]}